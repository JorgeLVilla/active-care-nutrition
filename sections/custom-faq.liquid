<div class="faq-page-container">
  <div class="faq-page-header"><h1>{{section.settings.title}}</h1></div>
  <div class="faq-main-container">
    <div class="faq-sidebar-container">
      <div class="faq-sidebar">
        {% for block in section.blocks %}
          {% if block.type == 'section' %}
              {% assign hrefId = block.settings.section_title | replace: " ", "-" %}
              <a style="text-decoration: none" href="#{{ hrefId | handleize }}">
            <div class="faq-title-section-container">
              <h2>{{ block.settings.section_title }}</h2>
              <img class="faq-title-section-image" src="{{ block.settings.image | img_url: "master"}}" />
            <div class="faq-section-title">
            </div>
            </div>
              </a>
          {% endif %}
        {% endfor %}
      </div>
    </div>
    <div class="faq-qa-section">
        {% for block in section.blocks %}
        {% assign hrefId = block.settings.section_title | replace: " ", "-" %}
        <div id="{{ hrefId | handleize}}" class="faq-qa-container">
      <h2>{{ block.settings.section_title }}</h2>
          {% if block.type == 'section' %}
            {% if block.settings.question_1 != "" %}
              {% include 'qa-pair' question: block.settings.question_1, answer: block.settings.answer_1 %}
            {% endif %}
              {% if block.settings.question_2 != "" %}
              {% include 'qa-pair' question: block.settings.question_2, answer: block.settings.answer_2 %}
            {% endif %}
            {% if block.settings.question_3 != "" %}
              {% include 'qa-pair' question: block.settings.question_3, answer: block.settings.answer_3 %}
            {% endif %}
            {% if block.settings.question_4 != "" %}
              {% include 'qa-pair' question: block.settings.question_4, answer: block.settings.answer_4 %}
            {% endif %}
            {% if block.settings.question_5 != "" %}
              {% include 'qa-pair' question: block.settings.question_5, answer: block.settings.answer_5 %}
            {% endif %}
            {% if block.settings.question_6 != "" %}
              {% include 'qa-pair' question: block.settings.question_6, answer: block.settings.answer_6 %}
            {% endif %}
            {% if block.settings.question_7 != "" %}
              {% include 'qa-pair' question: block.settings.question_7, answer: block.settings.answer_7 %}
            {% endif %}
            {% if block.settings.question_8 != "" %}
              {% include 'qa-pair' question: block.settings.question_8, answer: block.settings.answer_8 %}
            {% endif %}
            {% if block.settings.question_9 != "" %}
              {% include 'qa-pair' question: block.settings.question_9, answer: block.settings.answer_9 %}
            {% endif %}
            {% if block.settings.question_10 != "" %}
              {% include 'qa-pair' question: block.settings.question_10, answer: block.settings.answer_10 %}
            {% endif %}
            {% if block.settings.question_11 != "" %}
              {% include 'qa-pair' question: block.settings.question_11, answer: block.settings.answer_11 %}
            {% endif %}
            {% if block.settings.question_12 != "" %}
              {% include 'qa-pair' question: block.settings.question_12, answer: block.settings.answer_12 %}
            {% endif %}
            {% if block.settings.question_13 != "" %}
              {% include 'qa-pair' question: block.settings.question_13, answer: block.settings.answer_13 %}
            {% endif %}
            {% if block.settings.question_14 != "" %}
              {% include 'qa-pair' question: block.settings.question_14, answer: block.settings.answer_14 %}
            {% endif %}
          {% endif %}
    </div>
  {% endfor %}
    </div>
  </div>
</div>


<style>
.faq-page-container * {
   font-weight: 700;
  color: black
}

.faq-page-header {
 min-height: 400px;
 width: 100%;
 display: flex;
 justify-content: center;
 align-items: center; 
  background: #F4F6FC;
}

.faq-page-header h1 {
  text-align: center;
  font-size: 60px; 
  color: #992a36
}

.faq-qa-section {
}

.faq-main-container {
  display: grid;
  grid-template-columns: 80%;
  justify-content: center;
  width: 100%;
}

.faq-qa-container h1 {
margin: 20px 10px 20px;
  font-size: 35px;
}

.faq-qa-pair-container {
  border: solid 4px black;
  border-radius: 10px;
  margin: 10px 10px;
  padding: 0px 20px;
}

.faq-qa-pair-container h2 {
font-family: var(--font-body-family);
font-size: 20px;
}
.faq-qa-pair-container-bg {
  background: #992a36
}
.faq-qa-pair-container-bg * {
 color: white;
}

  .faq-qa-container {
    margin-top: 60px;
}

.faq-sidebar-container {
padding: 20px 20px 0px 0px;
display: flex;
  justify-content: space-around;
}

.faq-sidebar {
    width: 100%;
    display: flex;
    padding-top: 60px;
    padding-bottom: 20px;
    justify-content: space-around;
}
.faq-sidebar-contact a {
  height: 40px;
  width: 120px;
  background: white;
  color: #992a36;
  display: flex;
  justify-content: center;
  align-items: center;
  text-decoration: none;
  border-radius: 10px;
}
.faq-sidebar h1 {
margin: 5px 5px;
  font-size: 25px;

}
.faq-title-section-container {
    width: 15vw;
    border-radius: 20px;
    border: 4px solid;
    height: 15vw;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.faq-qa-container > h2 {
  font-size: 36px;
  font-weight: 700;
  color: #992a36
}
  
  .faq-title-section-container:hover {
  background: #992a36
  }

  .faq-title-section-container:hover * {
    color: white
  }
  
  .faq-title-section-container:hover img {
    filter: invert(100%)
  }

  .faq-title-section-container img {
    width: 8vw
}

  .faq-title-section-container h2 {
    text-align: center;
    font-size: 1vw;
    font-weight: 700;
    color: #333
  }
  

.faq-sidebar-contact {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 10px 20px 20px;
  color: white
}

.faq-sidebar-contact h3 {
  color: white
}

.faq-answer {
      transition-property: max-height, transform;
    transition-duration: .3s;
    transition-timing-function: ease-in;
    transform: scaleY(0);
max-height: 0px;
margin: 0px;
  background: 
}
.faq-section-title h2 {
 margin: 10px 0px !important;
  color: #333 !important;
  text-align: center;
}
.faq-question {
margin: 20px 0px;
  font-size: 24px
}

.faq-question:hover {
cursor: pointer
}
  
.faq-section-title h1{
  color: white;
  padding: 5px 10px;
}

  .faq-answer-show {
    transform: scaleY(1);
    max-height: 500px;
margin: 10px 0px;
    background: #992a36;
  }

  @media screen and (max-width: 1000px ) {

    .faq-main-container {
    grid-template-columns: 100% !important;
}

    .faq-sidebar { 
  display: grid;
      grid-template-columns: 35vw 35vw;
      justify-content: space-between;
      row-gap: 10vw;
      width: 80%
      
}

    .faq-title-section-container {
    width: 35vw;
    height: 35vw;
}

      .faq-title-section-container img {
    width: 15vw
}

  .faq-title-section-container h2 {
    text-align: center;
    font-size: 2.5vw;
    font-weight: 700;
    color: #333
  }

.faq-qa-section {
    width: 80%;
    margin: auto;
}
    
  }

</style>

<script>
console.log("hello")
  var questions = [...document.querySelectorAll(".faq-qa-pair-container")]

  for (let question in questions) {
      questions[question].addEventListener('click', () => {
                                           
      if (event.target.classList.contains("faq-qa-pair-container")) {
        	event.target.children[1].classList.toggle("faq-answer-show")
          	event.target.classList.toggle("faq-qa-pair-container-bg")
      } else {

          event.target.parentElement.children[1].classList.toggle("faq-answer-show")
          event.target.parentElement.classList.toggle("faq-qa-pair-container-bg")
      }
        })
    }

  console.log(questions)

  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();

        const id = document.querySelector(this.getAttribute('href')).id
        const yOffset = -180; 
        const element = document.getElementById(id);
        const y = element.getBoundingClientRect().top + window.pageYOffset + yOffset;

        window.scrollTo({top: y, behavior: 'smooth'});
        // document.querySelector(this.getAttribute('href')).scrollIntoView({
        //     behavior: 'smooth'
        // });
    });
});
</script>

{% schema %}
{
  "name": "FAQ Page",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Page Title"
    },
    {
      "type": "url",
      "id": "contact_page",
      "label": "Contact Page Link"
    }
  ],
  "blocks": [
     {
       "name": "FAQ Section",
       "type": "section",
       "settings": [
         {
           "type": "text",
           "id": "section_title",
           "label": "Section Title"
         },
         {
           "type": "image_picker",
           "id": "image",
           "label": "Section Image"
         },
         {
           "type": "text",
           "id": "question_1",
           "label": "Question 1"
         },
         {
           "type": "richtext",
           "id": "answer_1",
           "label": "Answer 1"
         },
         {
           "type": "text",
           "id": "question_2",
           "label": "Question 2"
         },
         {
           "type": "richtext",
           "id": "answer_2",
           "label": "Answer 2"
         },
         {
           "type": "text",
           "id": "question_3",
           "label": "Question 3"
         },
         {
           "type": "richtext",
           "id": "answer_3",
           "label": "Answer 3"
         },
         {
           "type": "text",
           "id": "question_4",
           "label": "Question 4"
         },
         {
           "type": "richtext",
           "id": "answer_4",
           "label": "Answer 4"
         },
         {
           "type": "text",
           "id": "question_5",
           "label": "Question 5"
         },
         {
           "type": "richtext",
           "id": "answer_5",
           "label": "Answer 5"
         },
         {
           "type": "text",
           "id": "question_6",
           "label": "Question 6"
         },
         {
           "type": "richtext",
           "id": "answer_6",
           "label": "Answer 6"
         },
         {
           "type": "text",
           "id": "question_7",
           "label": "Question 7"
         },
         {
           "type": "richtext",
           "id": "answer_7",
           "label": "Answer 7"
         },
         {
           "type": "text",
           "id": "question_8",
           "label": "Question 8"
         },
         {
           "type": "richtext",
           "id": "answer_8",
           "label": "Answer 8"
         },
         {
           "type": "text",
           "id": "question_9",
           "label": "Question 9"
         },
         {
           "type": "richtext",
           "id": "answer_9",
           "label": "Answer 9"
         },
         {
           "type": "text",
           "id": "question_10",
           "label": "Question 10"
         },
         {
           "type": "richtext",
           "id": "answer_10",
           "label": "Answer 10"
         },
         {
           "type": "text",
           "id": "question_11",
           "label": "Question 11"
         },
         {
           "type": "richtext",
           "id": "answer_11",
           "label": "Answer 11"
         },
         {
           "type": "text",
           "id": "question_12",
           "label": "Question 12"
         },
         {
           "type": "richtext",
           "id": "answer_12",
           "label": "Answer 12"
         },
         {
           "type": "text",
           "id": "question_13",
           "label": "Question 13"
         },
         {
           "type": "richtext",
           "id": "answer_13",
           "label": "Answer 13"
         },
         {
           "type": "text",
           "id": "question_14",
           "label": "Question 14"
         },
         {
           "type": "richtext",
           "id": "answer_14",
           "label": "Answer 14"
         }
       ]
     }
   ],
  "presets": [
    {
      "name": "FAQ Section"
    }
  ]
}
{% endschema %}
